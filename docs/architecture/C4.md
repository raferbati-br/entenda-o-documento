# C4 - Code (Key Flows)

## Flow: Capture -> Analyze -> Result
1) User selects a photo and confirms.
2) /api/capture validates base64 and stores in memory with a TTL.
3) /api/analyze fetches image from store and calls analyzeDocument.
4) analyzeDocument calls provider (OpenAI) and postprocess.
5) Result is saved in sessionStorage and rendered in /result.

## Key Files
- src/app/api/capture/route.ts
- src/app/api/analyze/route.ts
- src/ai/analyzeDocument.ts
- src/ai/providers/openaiProvider.ts
- src/ai/postprocess.ts
- src/lib/captureStore.ts
- src/lib/resultStore.ts
